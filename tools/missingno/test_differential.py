import differential

OUTPUT = b"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x40\x08\x00\x25\x0A\x18\x03\x07\x0E\x1E\x3C\x78\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x20\x20\x0F\x1F\x41\x00\x03\x0F\x00\x01\x3F\x01\xC0\x8E\x1F\x3F\x3F\x7F\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3E\xFF\xFF\xFF\xFF\x3F\x8F\xE2\x79\x88\xC0\x80\x00\x07\xF3\xFD\xFE\xFE\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x20\xE0\x80\x80\x80\x80\x80\x00\x00\xE0\xA0\xC0\xC0\x00\x00\x00\x80\x80\x80\x00\x00\x00\x00\x00"
TESTCASE = B"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x60\x0C\x00\x37\x0F\x14\x02\x04\x09\x11\x22\x44\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x30\x30\x08\x10\x61\x00\x02\x08\x00\x01\xA0\x01\xA0\x49\x90\x20\x20\x40\x80\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x21\x80\x00\x00\x00\x20\x48\x13\x45\x4C\x20\x40\x00\x04\x0A\x03\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x30\x90\x40\x40\x40\x40\x40\x80\x00\x10\xF0\xA0\xA0\x00\x80\x80\x40\xC0\xC0\x80\x00\x00\x00\x00"

def test_differential():
    diff = differential.DifferentialDecoder(
        TESTCASE,
        32,
        32,
        invert=False
    )

    assert diff.decode() == OUTPUT
