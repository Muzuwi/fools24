import differential

TESTCASE = b"\x00\x00\x00\x00\x00\x00\x14\x37\x62\x63\x76\x55\x62\x64\x74\x51\x61\x62\xC4\xE0\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x4A\xCA\xD8\x60\x60\x60\xD1\x91\x40\x80\x20\x21\xC0\x00\xC9\x90\x20\x40\x40\x81\x88\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x09\x09\x01\x00\x01\x01\x04\x00\x40\x10\x24\x0E\x42\x12\x20\x28\x11\x20\x40\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x10\x18\xC8\x90\x10\x20\x10\x70\x10\xB0\x58\x78\x28\xB0\xF0\x60\x60\x70\x10\x38\x38\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"
OUTPUT = b"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x40\x08\x00\x25\x0A\x18\x03\x07\x0E\x1E\x3C\x78\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x20\x20\x0F\x1F\x41\x00\x03\x0F\x00\x01\x3F\x01\xC0\x8E\x1F\x3F\x3F\x7F\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3E\xFF\xFF\xFF\xFF\x3F\x8F\xE2\x79\x88\xC0\x80\x00\x07\xF3\xFD\xFE\xFE\xFF\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x20\xE0\x80\x80\x80\x80\x80\x00\x00\xE0\xA0\xC0\xC0\x00\x00\x00\x80\x80\x80\x00\x00\x00\x00\x00"

def test_differential():
    diff = differential.DifferentialDecoder(
        TESTCASE,
        32,
        32,
        invert=False
    )

    assert diff.decode() == OUTPUT
